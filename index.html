<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8">
        <title></title>
    </head>
    <body>
        <script>
            /* Creates a random number between 0-2 and returns the respective choices
               that the computer could choose */
            let getComputerSelection = () => {
                let choice = Math.floor(Math.random() * 3)
                if (choice === 0) {
                    return 'rock'
                } else if (choice === 1) {
                    return 'paper'
                } else if (choice === 2) {
                    return 'scissors'
                } else {
                    console.log('getComputerSelection oopsie')
                }
            }
            /* A round of rps, where the computer's choice and the player's choices are compared
               and returns a value to be interpreted for the tally. */
            let playRound = (playerSelection, computerSelection) => {
                if (playerSelection === 'rock' && computerSelection === 'scissors') {
                    console.log(`You win! ${playerSelection.toUpperCase()} beats ${computerSelection.toUpperCase()}!`)
                    return 1
                } else if (playerSelection === 'paper' && computerSelection === 'rock') {
                    console.log(`You win! ${playerSelection.toUpperCase()} beats ${computerSelection.toUpperCase()}!`)
                    return 1
                } else if (playerSelection === 'scissors' && computerSelection === 'paper') {
                    console.log(`You win! ${playerSelection.toUpperCase()} beats ${computerSelection.toUpperCase()}!`)
                    return 1
                } else if (playerSelection === 'scissors' && computerSelection === 'rock') {
                    console.log(`You lose! ${computerSelection.toUpperCase()} beats ${playerSelection.toUpperCase()}!`)
                    return 0
                } else if (playerSelection === 'rock' && computerSelection === 'paper') {
                    console.log(`You lose! ${computerSelection.toUpperCase()} beats ${playerSelection.toUpperCase()}!`)
                    return 0
                } else if (playerSelection === 'paper' && computerSelection === 'scissors') {
                    console.log(`You lose! ${computerSelection.toUpperCase()} beats ${playerSelection.toUpperCase()}!`)
                    return 0
                } else if (playerSelection === computerSelection) {
                    console.log(`A tie! Try again!`)
                    return 2
                } else {
                    console.log('Uh oh')
                }
            }
            
            /* Iteration of rounds, and variables that keeps tallies of each players
               score. */
            let game = () => {
                let playerScore = 0
                let computerScore = 0
                for (i = 1; i <= 5; i++) {
                    let choice = prompt ("Which choice are you choosing? (rock, paper, or scissors)")
                    let theGame = playRound(choice.toLowerCase(), getComputerSelection())
                    theGame
                    if (theGame === 0) {
                        computerScore++
                    } else if (theGame === 1) {
                        playerScore++
                    } else if (theGame === 2) {
                        continue
                    } else {
                        console.log('game function uh oh.')
                    }
                }

                /* An if statement that logs the score out of five rounds to
                   the console. */
                if (playerScore > computerScore) {
                    console.log(`You won out of 5 rounds! You: ${playerScore} to Computer: ${computerScore}!`)
                } else if (playerScore < computerScore) {
                    console.log(`You lost out of 5 rounds! You: ${playerScore} to Computer: ${computerScore}`)
                } else if (playerScore === computerScore) {
                    console.log(`You tie out of 5 rounds! You: ${playerScore} to Computer: ${computerScore}`)
                }
            }

            /* The game function is invoked */
            game()
        </script>
    </body>
</html>